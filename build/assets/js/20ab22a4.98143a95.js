"use strict";(globalThis.webpackChunkphysical_ai_book_humanoid=globalThis.webpackChunkphysical_ai_book_humanoid||[]).push([[3139],{5384(n,e,i){i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"module-1-ros2/chapter-3-urdf-modeling","title":"Chapter 3 - URDF Humanoid Modeling","description":"Creating robot models for simulation and control using URDF","source":"@site/docs/module-1-ros2/chapter-3-urdf-modeling.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-3-urdf-modeling","permalink":"/textbook/docs/module-1-ros2/chapter-3-urdf-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/Panaversity/physical_ai_book_humanoid/tree/main/docs/module-1-ros2/chapter-3-urdf-modeling.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Chapter 3 - URDF Humanoid Modeling","description":"Creating robot models for simulation and control using URDF","keywords":["urdf","robot modeling","humanoid","simulation","kinematics"]},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2 - Exercises","permalink":"/textbook/docs/module-1-ros2/chapter-2-exercises"},"next":{"title":"Chapter 3 - Exercises","permalink":"/textbook/docs/module-1-ros2/chapter-3-exercises"}}');var t=i(4848),o=i(8453);const a={sidebar_position:4,title:"Chapter 3 - URDF Humanoid Modeling",description:"Creating robot models for simulation and control using URDF",keywords:["urdf","robot modeling","humanoid","simulation","kinematics"]},l="Chapter 3 - URDF Humanoid Modeling",s={},m=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"URDF (Unified Robot Description Format)",id:"urdf-unified-robot-description-format",level:3},{value:"Kinematic Chains in Humanoid Robots",id:"kinematic-chains-in-humanoid-robots",level:3},{value:"Degrees of Freedom (DOF)",id:"degrees-of-freedom-dof",level:3},{value:"Forward and Inverse Kinematics",id:"forward-and-inverse-kinematics",level:3},{value:"Implementation",id:"implementation",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"Complete Humanoid URDF Model",id:"complete-humanoid-urdf-model",level:3},{value:"URDF Validation and Testing Python Script",id:"urdf-validation-and-testing-python-script",level:3},{value:"Examples",id:"examples",level:2},{value:"Example: URDF with Xacro for Parameterization",id:"example-urdf-with-xacro-for-parameterization",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Conceptual",id:"conceptual",level:3},{value:"Logical",id:"logical",level:3},{value:"Implementation",id:"implementation-1",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"chapter-3---urdf-humanoid-modeling",children:"Chapter 3 - URDF Humanoid Modeling"})}),"\n",(0,t.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(e.p,{children:"By the end of this chapter, students will be able to:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Create complete URDF models for humanoid robots with proper kinematic chains"}),"\n",(0,t.jsx)(e.li,{children:"Define joints, links, and physical properties for realistic simulation"}),"\n",(0,t.jsx)(e.li,{children:"Implement visual and collision geometries for accurate physics simulation"}),"\n",(0,t.jsx)(e.li,{children:"Validate URDF models for correctness and completeness"}),"\n",(0,t.jsx)(e.li,{children:"Integrate URDF models with ROS 2 simulation environments"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(e.p,{children:"Before starting this chapter, students should have:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Understanding of basic robotics kinematics and dynamics"}),"\n",(0,t.jsx)(e.li,{children:"Knowledge of 3D coordinate systems and transformations"}),"\n",(0,t.jsx)(e.li,{children:"Basic understanding of physics simulation concepts"}),"\n",(0,t.jsx)(e.li,{children:"Completed previous chapters on ROS 2 communication patterns"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,t.jsx)(e.h3,{id:"urdf-unified-robot-description-format",children:"URDF (Unified Robot Description Format)"}),"\n",(0,t.jsx)(e.p,{children:"URDF is an XML-based format for representing a robot model. It defines the physical and kinematic properties of a robot, including:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Links (rigid bodies)"}),"\n",(0,t.jsx)(e.li,{children:"Joints (constraints between links)"}),"\n",(0,t.jsx)(e.li,{children:"Visual and collision properties"}),"\n",(0,t.jsx)(e.li,{children:"Inertial properties"}),"\n",(0,t.jsx)(e.li,{children:"Transmission information"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"kinematic-chains-in-humanoid-robots",children:"Kinematic Chains in Humanoid Robots"}),"\n",(0,t.jsx)(e.p,{children:"Humanoid robots have complex kinematic structures with multiple chains:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Leg chains"}),": From pelvis to feet (typically 6-7 DOF per leg)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Arm chains"}),": From torso to hands (typically 7-8 DOF per arm)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Spine chain"}),": Connecting base to head"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Head chain"}),": For gaze and interaction"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"degrees-of-freedom-dof",children:"Degrees of Freedom (DOF)"}),"\n",(0,t.jsx)(e.p,{children:"The number of independent movements a joint or mechanism can perform. Humanoid robots typically have 30+ DOF to achieve human-like mobility."}),"\n",(0,t.jsx)(e.h3,{id:"forward-and-inverse-kinematics",children:"Forward and Inverse Kinematics"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Forward Kinematics"}),": Calculate end-effector position from joint angles"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Inverse Kinematics"}),": Calculate joint angles to achieve desired end-effector position"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["For the position vector ",(0,t.jsx)(e.strong,{children:"p"})," of an end-effector and joint angles ",(0,t.jsx)(e.strong,{children:"q"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Forward: ",(0,t.jsx)(e.strong,{children:"p"})," = FK(",(0,t.jsx)(e.strong,{children:"q"}),")"]}),"\n",(0,t.jsxs)(e.li,{children:["Inverse: ",(0,t.jsx)(e.strong,{children:"q"})," = IK(",(0,t.jsx)(e.strong,{children:"p"}),")"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsx)(e.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,t.jsx)(e.p,{children:"Here's a basic URDF file for a simple humanoid robot:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Example: Simple Humanoid Robot URDF --\x3e\n\x3c!-- WHAT: This URDF defines a basic humanoid robot with simplified kinematic structure --\x3e\n\x3c!-- WHY: To demonstrate the basic components and structure of a humanoid robot model --\x3e\n\n<?xml version="1.0"?>\n<robot name="simple_humanoid">\n  \x3c!-- Base/Fixed link --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.5" rpy="0 0 0"/>\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.5" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.3 1.0"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.5" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.3 1.0"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Torso link --\x3e\n  <link name="torso">\n    <inertial>\n      <mass value="8.0"/>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <inertia ixx="0.8" ixy="0.0" ixz="0.0" iyy="0.8" iyz="0.0" izz="0.8"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.25 0.6"/>\n      </geometry>\n      <material name="red">\n        <color rgba="1 0 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.25 0.6"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Joint connecting base to torso --\x3e\n  <joint name="base_to_torso" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0 0 1.0" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Head link --\x3e\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.15"/>\n      </geometry>\n      <material name="yellow">\n        <color rgba="1 1 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.15"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Joint connecting torso to head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.6" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- Left arm (simplified) --\x3e\n  <link name="left_upper_arm">\n    <inertial>\n      <mass value="1.5"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.3"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0 1 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.3"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_shoulder_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="0.15 0 0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2.0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,t.jsx)(e.h3,{id:"complete-humanoid-urdf-model",children:"Complete Humanoid URDF Model"}),"\n",(0,t.jsx)(e.p,{children:"Here's a more complete URDF model for a humanoid robot with legs, arms, and head:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Example: Complete Humanoid Robot URDF --\x3e\n\x3c!-- WHAT: This URDF defines a complete humanoid robot with legs, arms, and head --\x3e\n\x3c!-- WHY: To demonstrate a realistic humanoid model with proper kinematic chains --\x3e\n\n<?xml version="1.0"?>\n<robot name="complete_humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Include gazebo plugins --\x3e\n  <gazebo>\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n      <robotNamespace>/humanoid</robotNamespace>\n    </plugin>\n  </gazebo>\n\n  \x3c!-- Base link (pelvis) --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="15.0"/>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0" iyy="0.5" iyz="0.0" izz="0.5"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.25 0.2"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.25 0.2"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <link name="torso">\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <inertia ixx="0.8" ixy="0.0" ixz="0.0" iyy="0.8" iyz="0.0" izz="0.8"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.2 0.6"/>\n      </geometry>\n      <material name="red">\n        <color rgba="0.8 0.2 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.2 0.6"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="torso_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0 0 0.2" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n      <material name="white">\n        <color rgba="0.9 0.9 0.9 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.6" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="10" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Left Arm Chain --\x3e\n  <link name="left_shoulder">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_shoulder_yaw" type="revolute">\n    <parent link="torso"/>\n    <child link="left_shoulder"/>\n    <origin xyz="0.05 0.1 0.3" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="left_upper_arm">\n    <inertial>\n      <mass value="1.5"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.3"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.3"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_shoulder_pitch" type="revolute">\n    <parent link="left_shoulder"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-2.0" upper="1.0" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="left_lower_arm">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.035" length="0.24"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.035" length="0.24"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_elbow" type="revolute">\n    <parent link="left_upper_arm"/>\n    <child link="left_lower_arm"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-2.5" upper="0.0" effort="30" velocity="2.0"/>\n  </joint>\n\n  <link name="left_hand">\n    <inertial>\n      <mass value="0.5"/>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.1 0.08 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.1 0.08 0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_wrist" type="revolute">\n    <parent link="left_lower_arm"/>\n    <child link="left_hand"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.0" upper="1.0" effort="10" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Right Arm Chain (mirror of left) --\x3e\n  <link name="right_shoulder">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_shoulder_yaw" type="revolute">\n    <parent link="torso"/>\n    <child link="right_shoulder"/>\n    <origin xyz="0.05 -0.1 0.3" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="right_upper_arm">\n    <inertial>\n      <mass value="1.5"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.3"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.3"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_shoulder_pitch" type="revolute">\n    <parent link="right_shoulder"/>\n    <child link="right_upper_arm"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-1.0" upper="2.0" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="right_lower_arm">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.035" length="0.24"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.035" length="0.24"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_elbow" type="revolute">\n    <parent link="right_upper_arm"/>\n    <child link="right_lower_arm"/>\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="0.0" upper="2.5" effort="30" velocity="2.0"/>\n  </joint>\n\n  <link name="right_hand">\n    <inertial>\n      <mass value="0.5"/>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.1 0.08 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.2 0.2 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.1 0.08 0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_wrist" type="revolute">\n    <parent link="right_lower_arm"/>\n    <child link="right_hand"/>\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.0" upper="1.0" effort="10" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Left Leg Chain --\x3e\n  <link name="left_hip">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.1"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_hip_yaw" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_hip"/>\n    <origin xyz="0 0.08 0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.5" upper="0.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="left_thigh">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.4"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_hip_pitch" type="revolute">\n    <parent link="left_hip"/>\n    <child link="left_thigh"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-2.0" upper="0.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="left_shin">\n    <inertial>\n      <mass value="2.5"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia ixx="0.08" ixy="0.0" ixz="0.0" iyy="0.08" iyz="0.0" izz="0.08"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.055" length="0.4"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.055" length="0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_knee" type="revolute">\n    <parent link="left_thigh"/>\n    <child link="left_shin"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="0.0" upper="2.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="left_foot">\n    <inertial>\n      <mass value="1.5"/>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>\n    </inertial>\n    <visual>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_ankle" type="revolute">\n    <parent link="left_shin"/>\n    <child link="left_foot"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-0.5" upper="0.5" effort="50" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- Right Leg Chain (mirror of left) --\x3e\n  <link name="right_hip">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.1"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_hip_yaw" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_hip"/>\n    <origin xyz="0 -0.08 0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.5" upper="0.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="right_thigh">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.4"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.06" length="0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_hip_pitch" type="revolute">\n    <parent link="right_hip"/>\n    <child link="right_thigh"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-2.0" upper="0.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="right_shin">\n    <inertial>\n      <mass value="2.5"/>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <inertia ixx="0.08" ixy="0.0" ixz="0.0" iyy="0.08" iyz="0.0" izz="0.08"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.055" length="0.4"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.055" length="0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_knee" type="revolute">\n    <parent link="right_thigh"/>\n    <child link="right_shin"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="0.0" upper="2.5" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="right_foot">\n    <inertial>\n      <mass value="1.5"/>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>\n    </inertial>\n    <visual>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0.2 0.8 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_ankle" type="revolute">\n    <parent link="right_shin"/>\n    <child link="right_foot"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-0.5" upper="0.5" effort="50" velocity="1.0"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,t.jsx)(e.h3,{id:"urdf-validation-and-testing-python-script",children:"URDF Validation and Testing Python Script"}),"\n",(0,t.jsx)(e.p,{children:"Here's a Python script to validate URDF models:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Example: URDF Validation Script\n# WHAT: This script validates URDF files for common errors and completeness\n# WHY: To ensure URDF models are correct before using them in simulation or control\n\nimport xml.etree.ElementTree as ET\nimport os\nfrom typing import Dict, List, Tuple, Optional\n\nclass URDFValidator:\n    def __init__(self, urdf_path: str):\n        # WHAT: Initialize the validator with the path to the URDF file\n        # WHY: The validator needs to know which file to validate\n        self.urdf_path = urdf_path\n        self.tree = None\n        self.root = None\n        self.errors = []\n        self.warnings = []\n\n    def load_urdf(self) -> bool:\n        \"\"\"Load the URDF file and parse it\"\"\"\n        # WHAT: This method loads and parses the URDF XML file\n        # WHY: The validator needs to access the XML structure to perform validation\n        try:\n            self.tree = ET.parse(self.urdf_path)\n            self.root = self.tree.getroot()\n            return True\n        except ET.ParseError as e:\n            # WHAT: This handles XML parsing errors\n            # WHY: Invalid XML syntax makes the URDF unusable\n            self.errors.append(f\"XML Parse Error: {str(e)}\")\n            return False\n        except FileNotFoundError:\n            # WHAT: This handles cases where the file doesn't exist\n            # WHY: Missing files are a critical error that must be reported\n            self.errors.append(f\"File not found: {self.urdf_path}\")\n            return False\n\n    def validate_robot_element(self) -> bool:\n        \"\"\"Validate the root robot element\"\"\"\n        # WHAT: This method validates the root <robot> element and its name attribute\n        # WHY: The root element must be correct for the URDF to be valid\n        if self.root.tag != 'robot':\n            # WHAT: Check that the root element is indeed named 'robot'\n            # WHY: URDF files must have 'robot' as their root element\n            self.errors.append(\"Root element must be 'robot'\")\n            return False\n\n        robot_name = self.root.get('name')\n        if not robot_name:\n            # WHAT: Check that the robot element has a name attribute\n            # WHY: Robot names are required for identification and namespace management\n            self.errors.append(\"Robot element must have a 'name' attribute\")\n            return False\n\n        if not robot_name.strip():\n            # WHAT: Check that the robot name is not empty\n            # WHY: Empty names are not meaningful and can cause issues\n            self.errors.append(\"Robot name cannot be empty\")\n            return False\n\n        return True\n\n    def validate_links(self) -> bool:\n        \"\"\"Validate all link elements\"\"\"\n        # WHAT: This method validates all link elements in the URDF\n        # WHY: Links are fundamental components that must be correctly defined\n        links = self.root.findall('link')\n        if not links:\n            # WHAT: Check that at least one link exists\n            # WHY: A robot without links is not valid\n            self.errors.append(\"No links found in URDF\")\n            return False\n\n        link_names = set()\n        for link in links:\n            name = link.get('name')\n            if not name:\n                # WHAT: Check that each link has a name attribute\n                # WHY: Link names are required for referencing in joints\n                self.errors.append(\"Link element missing 'name' attribute\")\n                continue\n\n            if name in link_names:\n                # WHAT: Check for duplicate link names\n                # WHY: Duplicate names cause ambiguity in the kinematic chain\n                self.errors.append(f\"Duplicate link name: {name}\")\n                continue\n\n            link_names.add(name)\n\n            # Check for required elements within link\n            inertial = link.find('inertial')\n            if inertial is None:\n                # WHAT: Check if the link has an inertial element\n                # WHY: While not always required, inertial properties are important for simulation\n                self.warnings.append(f\"Link '{name}' missing inertial element\")\n            else:\n                self.validate_inertial(inertial, name)\n\n            visual = link.find('visual')\n            if visual is None:\n                # WHAT: Check if the link has a visual element\n                # WHY: Visual elements are important for visualization\n                self.warnings.append(f\"Link '{name}' missing visual element\")\n\n            collision = link.find('collision')\n            if collision is None:\n                # WHAT: Check if the link has a collision element\n                # WHY: Collision elements are important for physics simulation\n                self.warnings.append(f\"Link '{name}' missing collision element\")\n\n        return len(self.errors) == 0\n\n    def validate_inertial(self, inertial_element, link_name: str):\n        \"\"\"Validate inertial element\"\"\"\n        # WHAT: This method validates the inertial properties of a link\n        # WHY: Inertial properties are critical for physics simulation\n        mass = inertial_element.find('mass')\n        if mass is None or mass.get('value') is None:\n            # WHAT: Check if the mass element and value are present\n            # WHY: Mass is required for physics simulation\n            self.warnings.append(f\"Link '{link_name}' inertial missing mass value\")\n            return\n\n        try:\n            mass_value = float(mass.get('value'))\n            if mass_value <= 0:\n                # WHAT: Check if the mass is positive\n                # WHY: Negative or zero mass is physically invalid\n                self.errors.append(f\"Link '{link_name}' has non-positive mass: {mass_value}\")\n        except ValueError:\n            # WHAT: Handle invalid mass values\n            # WHY: Non-numeric mass values are invalid\n            self.errors.append(f\"Link '{link_name}' has invalid mass value: {mass.get('value')}\")\n\n        # Check inertia values\n        # WHAT: Validate the inertia matrix values\n        # WHY: Inertia values must be numeric and physically plausible\n        inertia = inertial_element.find('inertia')\n        if inertia is not None:\n            for attr in ['ixx', 'ixy', 'ixz', 'iyy', 'iyz', 'izz']:\n                value = inertia.get(attr)\n                if value is not None:\n                    try:\n                        float(value)\n                    except ValueError:\n                        # WHAT: Handle invalid inertia values\n                        # WHY: Non-numeric inertia values are invalid\n                        self.errors.append(f\"Link '{link_name}' has invalid {attr} value: {value}\")\n\n    def validate_joints(self) -> bool:\n        \"\"\"Validate all joint elements\"\"\"\n        # WHAT: This method validates all joint elements in the URDF\n        # WHY: Joints define the kinematic relationships between links\n        joints = self.root.findall('joint')\n        if not joints:\n            # WHAT: Check if joints exist (warning, not error)\n            # WHY: Some simple models might not have joints\n            self.warnings.append(\"No joints found in URDF\")\n            return True  # Not necessarily an error\n\n        link_names = {link.get('name') for link in self.root.findall('link')}\n        joint_names = set()\n\n        for joint in joints:\n            name = joint.get('name')\n            if not name:\n                # WHAT: Check if each joint has a name\n                # WHY: Joint names are required for identification\n                self.errors.append(\"Joint element missing 'name' attribute\")\n                continue\n\n            if name in joint_names:\n                # WHAT: Check for duplicate joint names\n                # WHY: Duplicate names cause ambiguity\n                self.errors.append(f\"Duplicate joint name: {name}\")\n                continue\n\n            joint_names.add(name)\n\n            joint_type = joint.get('type')\n            if not joint_type:\n                # WHAT: Check if each joint has a type\n                # WHY: Joint type determines how the joint behaves\n                self.errors.append(f\"Joint '{name}' missing 'type' attribute\")\n                continue\n\n            # Check for valid joint types\n            # WHAT: Validate that the joint type is one of the supported types\n            # WHY: Only certain joint types are supported by URDF\n            valid_types = ['revolute', 'continuous', 'prismatic', 'fixed', 'floating', 'planar']\n            if joint_type not in valid_types:\n                self.errors.append(f\"Joint '{name}' has invalid type: {joint_type}\")\n\n            # Check parent and child links exist\n            # WHAT: Verify that referenced links exist in the model\n            # WHY: Joints connect existing links; non-existent links are invalid\n            parent = joint.find('parent')\n            child = joint.find('child')\n\n            if parent is None or parent.get('link') is None:\n                self.errors.append(f\"Joint '{name}' missing parent link\")\n            else:\n                parent_link = parent.get('link')\n                if parent_link not in link_names:\n                    self.errors.append(f\"Joint '{name}' references non-existent parent link: {parent_link}\")\n\n            if child is None or child.get('link') is None:\n                self.errors.append(f\"Joint '{name}' missing child link\")\n            else:\n                child_link = child.get('link')\n                if child_link not in link_names:\n                    self.errors.append(f\"Joint '{name}' references non-existent child link: {child_link}\")\n\n            # Check for continuous joints (they shouldn't have limits)\n            # WHAT: Validate that continuous joints don't have limits\n            # WHY: Continuous joints rotate infinitely and shouldn't have limits\n            if joint_type == 'continuous':\n                limit = joint.find('limit')\n                if limit is not None:\n                    self.warnings.append(f\"Joint '{name}' is continuous but has limits defined\")\n\n            # Check for revolute/prismatic joints (they should have limits)\n            # WHAT: Validate that revolute and prismatic joints have limits\n            # WHY: These joints need limits to constrain their motion\n            elif joint_type in ['revolute', 'prismatic']:\n                limit = joint.find('limit')\n                if limit is None:\n                    self.warnings.append(f\"Joint '{name}' is {joint_type} but has no limits defined\")\n\n        return len(self.errors) == 0\n\n    def validate_geometry(self):\n        \"\"\"Validate geometry elements in visual and collision\"\"\"\n        # WHAT: This method validates the geometry elements in visual and collision sections\n        # WHY: Geometry elements must be properly defined for visualization and physics\n        for link in self.root.findall('link'):\n            for element_type in ['visual', 'collision']:\n                for element in link.findall(element_type):\n                    geometry = element.find('geometry')\n                    if geometry is not None:\n                        # Check for exactly one geometry type\n                        # WHAT: Ensure only one geometry type is defined per element\n                        # WHY: Multiple geometry types in one element are invalid\n                        geometry_types = []\n                        for geom_type in ['box', 'cylinder', 'sphere', 'mesh']:\n                            if geometry.find(geom_type) is not None:\n                                geometry_types.append(geom_type)\n\n                        if len(geometry_types) != 1:\n                            self.errors.append(\n                                f\"Link '{link.get('name')}' {element_type} has {len(geometry_types)} geometry types, expected exactly 1\"\n                            )\n                        else:\n                            geom_element = geometry.find(geometry_types[0])\n                            if geometry_types[0] == 'mesh':\n                                filename = geom_element.get('filename')\n                                if filename and not os.path.isabs(filename):\n                                    # Check if mesh file exists relative to URDF location\n                                    # WHAT: Validate that referenced mesh files exist\n                                    # WHY: Missing mesh files cause visualization and physics errors\n                                    urdf_dir = os.path.dirname(self.urdf_path)\n                                    mesh_path = os.path.join(urdf_dir, filename)\n                                    if not os.path.exists(mesh_path):\n                                        self.warnings.append(\n                                            f\"Mesh file not found: {mesh_path} for link '{link.get('name')}'\"\n                                        )\n\n    def validate_kinematic_chain(self) -> bool:\n        \"\"\"Validate that the kinematic chain is valid (no loops, proper tree structure)\"\"\"\n        # WHAT: This method validates the kinematic chain structure\n        # WHY: URDF models must form a tree structure (no loops)\n        joints = self.root.findall('joint')\n        links = self.root.findall('link')\n\n        # Create a graph of parent-child relationships\n        # WHAT: Build a mapping of parent-child relationships\n        # WHY: Needed to analyze the kinematic structure\n        parent_to_child = {}\n        child_to_parent = {}\n\n        for joint in joints:\n            parent_elem = joint.find('parent')\n            child_elem = joint.find('child')\n\n            if parent_elem is not None and child_elem is not None:\n                parent_name = parent_elem.get('link')\n                child_name = child_elem.get('link')\n\n                if parent_name and child_name:\n                    if child_name in child_to_parent:\n                        # WHAT: Check for multiple parents (invalid in tree structure)\n                        # WHY: Each link should have at most one parent in a tree\n                        self.errors.append(f\"Link '{child_name}' has multiple parents\")\n                        return False\n\n                    child_to_parent[child_name] = parent_name\n                    if parent_name not in parent_to_child:\n                        parent_to_child[parent_name] = []\n                    parent_to_child[parent_name].append(child_name)\n\n        # Find the root link (one without a parent)\n        # WHAT: Identify the root of the kinematic tree\n        # WHY: A valid URDF tree must have exactly one root\n        all_link_names = {link.get('name') for link in links}\n        root_links = all_link_names - set(child_to_parent.keys())\n\n        if len(root_links) == 0:\n            self.errors.append(\"No root link found - all links have parents (possible loop)\")\n            return False\n        elif len(root_links) > 1:\n            self.errors.append(f\"Multiple root links found: {root_links}\")\n            return False\n\n        # Check for loops by traversing the tree\n        # WHAT: Detect cycles in the kinematic chain\n        # WHY: Loops create invalid kinematic structures\n        visited = set()\n        def traverse(link_name):\n            if link_name in visited:\n                self.errors.append(f\"Loop detected in kinematic chain at link: {link_name}\")\n                return False\n            visited.add(link_name)\n\n            if link_name in parent_to_child:\n                for child in parent_to_child[link_name]:\n                    if not traverse(child):\n                        return False\n            return True\n\n        root = list(root_links)[0]\n        if not traverse(root):\n            return False\n\n        return True\n\n    def validate(self) -> Tuple[bool, List[str], List[str]]:\n        \"\"\"Run all validations and return results\"\"\"\n        # WHAT: This method runs all validation checks\n        # WHY: Consolidates all validation into a single method\n        self.errors = []\n        self.warnings = []\n\n        if not self.load_urdf():\n            return False, self.errors, self.warnings\n\n        # Run all validation checks\n        robot_ok = self.validate_robot_element()\n        links_ok = self.validate_links()\n        joints_ok = self.validate_joints()\n        self.validate_geometry()\n        chain_ok = self.validate_kinematic_chain()\n\n        success = robot_ok and links_ok and joints_ok and chain_ok\n        return success, self.errors, self.warnings\n\ndef main(urdf_path: str = None):\n    \"\"\"Main function to validate a URDF file\"\"\"\n    # WHAT: This is the main function that validates a URDF file\n    # WHY: Provides an entry point for using the validator\n    if urdf_path is None:\n        # Use the example URDF file if none provided\n        urdf_path = \"simple_humanoid.urdf\"  # This would be the path to your URDF file\n\n    validator = URDFValidator(urdf_path)\n    success, errors, warnings = validator.validate()\n\n    print(f\"URDF Validation Results for: {urdf_path}\")\n    print(f\"Valid: {success}\")\n\n    if errors:\n        print(f\"\\nErrors ({len(errors)}):\")\n        for error in errors:\n            print(f\"  - {error}\")\n\n    if warnings:\n        print(f\"\\nWarnings ({len(warnings)}):\")\n        for warning in warnings:\n            print(f\"  - {warning}\")\n\n    if success and not warnings:\n        print(\"\\nURDF is valid with no warnings!\")\n    elif success:\n        print(f\"\\nURDF is valid but has {len(warnings)} warnings.\")\n\nif __name__ == '__main__':\n    # Example usage - you would call this with the path to your URDF file\n    # main(\"path/to/your/robot.urdf\")\n    print(\"URDFValidator class defined. Use main(urdf_path) to validate a URDF file.\")\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Dependencies"}),": Python standard library only (xml.etree.ElementTree, os, typing)"]}),"\n",(0,t.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(e.h3,{id:"example-urdf-with-xacro-for-parameterization",children:"Example: URDF with Xacro for Parameterization"}),"\n",(0,t.jsx)(e.p,{children:"Xacro allows parameterization of URDF models:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Example: Humanoid Robot with Xacro --\x3e\n\x3c!-- WHAT: This URDF uses Xacro to parameterize robot dimensions and properties --\x3e\n\x3c!-- WHY: To enable easy customization of robot models with different dimensions --\x3e\n\n<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="param_humanoid">\n\n  \x3c!-- Define robot parameters --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="base_mass" value="15.0" />\n  <xacro:property name="torso_mass" value="10.0" />\n  <xacro:property name="arm_mass" value="1.5" />\n  <xacro:property name="leg_mass" value="3.0" />\n\n  \x3c!-- Define dimensions --\x3e\n  <xacro:property name="base_size_x" value="0.2" />\n  <xacro:property name="base_size_y" value="0.25" />\n  <xacro:property name="base_size_z" value="0.2" />\n\n  <xacro:property name="torso_height" value="0.6" />\n  <xacro:property name="torso_width" value="0.2" />\n  <xacro:property name="torso_depth" value="0.2" />\n\n  \x3c!-- Macro for creating a simple box link --\x3e\n  <xacro:macro name="box_link" params="name mass x y z *inertial *visual *collision">\n    <link name="${name}">\n      <inertial>\n        <mass value="${mass}"/>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <xacro:insert_block name="inertial"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <xacro:insert_block name="visual"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <xacro:insert_block name="collision"/>\n      </collision>\n    </link>\n  </xacro:macro>\n\n  \x3c!-- Base link --\x3e\n  <xacro:box_link name="base_link" mass="${base_mass}">\n    <inertial>\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0" iyy="0.5" iyz="0.0" izz="0.5"/>\n    </inertial>\n    <visual>\n      <geometry>\n        <box size="${base_size_x} ${base_size_y} ${base_size_z}"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${base_size_x} ${base_size_y} ${base_size_z}"/>\n      </geometry>\n    </collision>\n  </xacro:box_link>\n\n  \x3c!-- Torso --\x3e\n  <xacro:box_link name="torso" mass="${torso_mass}">\n    <inertial>\n      <origin xyz="0 0 ${torso_height/2}" rpy="0 0 0"/>\n      <inertia ixx="0.8" ixy="0.0" ixz="0.0" iyy="0.8" iyz="0.0" izz="0.8"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 ${torso_height/2}" rpy="0 0 0"/>\n      <geometry>\n        <box size="${torso_depth} ${torso_width} ${torso_height}"/>\n      </geometry>\n      <material name="red">\n        <color rgba="0.8 0.2 0.2 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 ${torso_height/2}" rpy="0 0 0"/>\n      <geometry>\n        <box size="${torso_depth} ${torso_width} ${torso_height}"/>\n      </geometry>\n    </collision>\n  </xacro:box_link>\n\n  \x3c!-- Joint connecting base to torso --\x3e\n  <joint name="torso_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0 0 ${base_size_z/2}" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Macro for creating arm chain --\x3e\n  <xacro:macro name="arm_chain" params="side position_x position_y shoulder_yaw_limit shoulder_pitch_limit elbow_limit">\n    \x3c!-- Shoulder --\x3e\n    <link name="${side}_shoulder">\n      <inertial>\n        <mass value="1.0"/>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.05" length="0.1"/>\n        </geometry>\n        <material name="blue">\n          <color rgba="0.2 0.2 0.8 1"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0 0 0" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.05" length="0.1"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${side}_shoulder_yaw" type="revolute">\n      <parent link="torso"/>\n      <child link="${side}_shoulder"/>\n      <origin xyz="${position_x} ${position_y} 0.3" rpy="0 0 0"/>\n      <axis xyz="0 0 1"/>\n      <limit lower="${-shoulder_yaw_limit}" upper="${shoulder_yaw_limit}" effort="50" velocity="2.0"/>\n    </joint>\n\n    \x3c!-- Upper arm --\x3e\n    <link name="${side}_upper_arm">\n      <inertial>\n        <mass value="${arm_mass}"/>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <inertia ixx="0.03" ixy="0.0" ixz="0.0" iyy="0.03" iyz="0.0" izz="0.03"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.04" length="0.3"/>\n        </geometry>\n        <material name="blue">\n          <color rgba="0.2 0.2 0.8 1"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.04" length="0.3"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${side}_shoulder_pitch" type="revolute">\n      <parent link="${side}_shoulder"/>\n      <child link="${side}_upper_arm"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <axis xyz="1 0 0"/>\n      <limit lower="${-shoulder_pitch_limit}" upper="${shoulder_pitch_limit}" effort="50" velocity="2.0"/>\n    </joint>\n\n    \x3c!-- Lower arm --\x3e\n    <link name="${side}_lower_arm">\n      <inertial>\n        <mass value="1.0"/>\n        <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n        <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.035" length="0.24"/>\n        </geometry>\n        <material name="blue">\n          <color rgba="0.2 0.2 0.8 1"/>\n        </material>\n      </visual>\n      <collision>\n        <origin xyz="0 0 -0.12" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.035" length="0.24"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${side}_elbow" type="revolute">\n      <parent link="${side}_upper_arm"/>\n      <child link="${side}_lower_arm"/>\n      <origin xyz="0 0 -0.3" rpy="0 0 0"/>\n      <axis xyz="1 0 0"/>\n      <limit lower="${-elbow_limit}" upper="0.0" effort="30" velocity="2.0"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Create both arms using the macro --\x3e\n  <xacro:arm_chain side="left" position_x="0.05" position_y="0.1" shoulder_yaw_limit="1.57" shoulder_pitch_limit="2.0" elbow_limit="2.5"/>\n  <xacro:arm_chain side="right" position_x="0.05" position_y="-0.1" shoulder_yaw_limit="1.57" shoulder_pitch_limit="2.0" elbow_limit="2.5"/>\n\n  \x3c!-- Gazebo plugin --\x3e\n  <gazebo>\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n      <robotNamespace>/humanoid</robotNamespace>\n    </plugin>\n  </gazebo>\n\n</robot>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"In this chapter, we've covered the fundamentals of URDF modeling for humanoid robots:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Basic URDF Structure"}),": Links, joints, and their properties"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Kinematic Chains"}),": Creating proper parent-child relationships for arms and legs"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Physical Properties"}),": Mass, inertia, and geometric definitions"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Validation"}),": Techniques to ensure URDF models are correct"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Xacro Parameterization"}),": Using macros and properties for reusable models"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Proper URDF modeling is essential for humanoid robot simulation and control. A well-constructed URDF enables accurate physics simulation, visualization, and integration with ROS 2 tools."}),"\n",(0,t.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"conceptual",children:"Conceptual"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Explain the difference between visual and collision geometries in URDF. Why might you use different shapes for each?"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"logical",children:"Logical"}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsx)(e.li,{children:"Design the URDF structure for a 28-DOF humanoid robot. Identify all links, joints, and their types. What are the minimum requirements for stable bipedal locomotion?"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"implementation-1",children:"Implementation"}),"\n",(0,t.jsxs)(e.ol,{start:"3",children:["\n",(0,t.jsx)(e.li,{children:"Create a Python script that generates a URDF file for a simplified humanoid robot based on user-specified parameters (height, weight, number of DOF). The script should ensure the resulting URDF is kinematically valid."}),"\n"]})]})}function c(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>a,x:()=>l});var r=i(6540);const t={},o=r.createContext(t);function a(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);